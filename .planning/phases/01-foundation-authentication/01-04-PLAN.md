---
phase: 01-foundation-authentication
plan: 04
type: execute
wave: 3
depends_on: ["01-02"]
files_modified:
  - apps/web/app/(public)/transparency/page.tsx
  - apps/web/components/transparency/multisig-details.tsx
  - apps/web/components/transparency/program-info.tsx
  - apps/web/components/transparency/changelog.tsx
  - apps/web/lib/transparency/data.ts
  - apps/web/app/api/transparency/route.ts
autonomous: false

must_haves:
  truths:
    - "Anyone can view the /transparency page without connecting a wallet"
    - "Transparency page shows Squads multisig address, member addresses (labeled), and threshold (3-of-5)"
    - "Transparency page shows program ID(s) with links to Solana Explorer"
    - "Transparency page has a public changelog section for program upgrades"
    - "Network status (devnet/mainnet) and deployment info are visible"
    - "Open source repo link is prominently displayed"
  artifacts:
    - path: "apps/web/app/(public)/transparency/page.tsx"
      provides: "Public transparency page with multisig, program, and changelog info"
      contains: "transparency"
    - path: "apps/web/components/transparency/multisig-details.tsx"
      provides: "Component showing Squads multisig configuration"
      contains: "multisig"
    - path: "apps/web/components/transparency/changelog.tsx"
      provides: "Public changelog of program upgrades"
      contains: "changelog"
    - path: "apps/web/lib/transparency/data.ts"
      provides: "Transparency data constants and types"
      contains: "MULTISIG_CONFIG"
  key_links:
    - from: "apps/web/app/(public)/transparency/page.tsx"
      to: "apps/web/lib/transparency/data.ts"
      via: "Imports multisig config and changelog data"
      pattern: "MULTISIG_CONFIG"
    - from: "apps/web/components/transparency/multisig-details.tsx"
      to: "Solana Explorer"
      via: "Links to explorer.solana.com for multisig and member addresses"
      pattern: "explorer.solana.com"
---

<objective>
Build the transparency page showing multisig details, program information, and public changelog -- the primary trust signal for the community.

Purpose: For a community with rug fear, the transparency page is the single most important trust signal after open source code (per research). This page implements the locked decision "Public changelog: YES -- every program upgrade logged with what changed, who signed, and on-chain tx." It makes the "proof visible" strategy tangible by showing multisig governance, open source links, and network status.

Output: Public /transparency page showing multisig members (3 core + 2 community), program IDs linked to explorer, changelog format for future upgrades, and open source repo link. Plus a human-verify checkpoint for the complete Phase 1 UI.
</objective>

<execution_context>
@/Users/developer/.claude/get-shit-done/workflows/execute-plan.md
@/Users/developer/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-authentication/01-RESEARCH.md
@.planning/phases/01-foundation-authentication/01-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Transparency page with multisig details, program info, and public changelog</name>
  <files>
    apps/web/app/(public)/transparency/page.tsx
    apps/web/components/transparency/multisig-details.tsx
    apps/web/components/transparency/program-info.tsx
    apps/web/components/transparency/changelog.tsx
    apps/web/lib/transparency/data.ts
    apps/web/app/api/transparency/route.ts
  </files>
  <action>
    Create transparency data module (apps/web/lib/transparency/data.ts):
    - Type definitions:
      - MultisigMember { address: string, role: string, label: string }
      - MultisigConfig { address: string, threshold: number, members: MultisigMember[] }
      - ProgramInfo { name: string, programId: string, network: string, deployedAt?: string }
      - ChangelogEntry { date: string, version: string, description: string, signers: string[], txSignature?: string }
    - Export MULTISIG_CONFIG constant:
      - address: placeholder (will be real Squads address after setup)
      - threshold: 3
      - members: 5 entries with labels:
        - 3 labeled "Core Team" with placeholder addresses
        - 2 labeled "Community" with placeholder addresses
      - NOTE: These will be replaced with real addresses when the multisig is created (user action)
    - Export PROGRAMS constant: array of ProgramInfo with gsd-hub program
    - Export CHANGELOG constant: array of ChangelogEntry, starting with:
      - { date: "[deploy date]", version: "0.1.0", description: "Initial devnet deployment - Developer profile registration", signers: ["pending"], txSignature: "pending" }
    - Export REPO_URL constant: GitHub org/repo URL (placeholder until public)

    Create multisig details component (apps/web/components/transparency/multisig-details.tsx):
    - Card showing:
      - "Multisig Governance" heading
      - Threshold: "3-of-5 signatures required for any program upgrade"
      - Member list: each member showing truncated address, role label (Core Team / Community), link to Solana Explorer
      - Squads multisig address with link to app.squads.so
      - Explanation text: "No single wallet can modify the program. All upgrades require majority approval from both core team and community members."

    Create program info component (apps/web/components/transparency/program-info.tsx):
    - Card showing:
      - "On-Chain Programs" heading
      - For each program: name, program ID (linked to Solana Explorer), network badge (devnet/mainnet), deployment date
      - Upgrade authority: "Squads Multisig (3-of-5)" with link to multisig section

    Create changelog component (apps/web/components/transparency/changelog.tsx):
    - Card showing:
      - "Program Upgrade Changelog" heading
      - Subtitle: "Every change to the on-chain program is logged here with what changed, who signed, and the on-chain transaction."
      - List of changelog entries (newest first):
        - Date, version, description
        - Signers who approved
        - Transaction signature linked to Solana Explorer (when available)
      - If no entries yet: "No upgrades yet. The initial deployment will be logged here."

    Create transparency page (apps/web/app/(public)/transparency/page.tsx):
    - Server component (for SEO)
    - Metadata: title "Transparency | GSD Community Hub", description about open governance
    - Page header: "Full Transparency" with subtext "Every decision. Every signature. On-chain and verifiable."
    - Section 1: Multisig Governance (MultisigDetails)
    - Section 2: On-Chain Programs (ProgramInfo)
    - Section 3: Program Changelog (Changelog)
    - Section 4: Open Source
      - "All source code is open source from day one."
      - Link to GitHub repo
      - "You can verify everything yourself. That's the point."
    - Section 5: Network Status
      - Current network: devnet/mainnet (from NEXT_PUBLIC_NETWORK env var)
      - If devnet: note about mainnet migration path after security audit
    - Tone: Confident, not defensive. Per locked decision: "The on-chain data makes the bull case. The platform just needs to be undeniably real."

    Optional API endpoint (apps/web/app/api/transparency/route.ts):
    - GET handler returning transparency data as JSON (for programmatic access)
    - Returns { multisig: MULTISIG_CONFIG, programs: PROGRAMS, changelog: CHANGELOG }

    Update header navigation to include "Transparency" link to /transparency.
  </action>
  <verify>
    Visit /transparency without wallet: page renders with all sections. Multisig shows 5 members with roles. Program section shows gsd-hub program ID. Changelog section renders (even if entries are placeholder). GitHub link is present. Network status shows current network.
  </verify>
  <done>
    Transparency page at /transparency is publicly accessible, shows multisig governance (3-of-5 with member labels), program IDs linked to explorer, public changelog format, open source repo link, and network status. Placeholder addresses will be replaced when real multisig is created.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete Phase 1 UI: landing page, wallet connection, SIWS authentication, developer profile create/edit, public profile pages, developer directory at /explore, and transparency page at /transparency. The full auth flow from wallet connect through profile creation with on-chain PDA registration.
  </what-built>
  <how-to-verify>
    Prerequisites: Phantom (or Solflare/Backpack) browser extension installed, dev server running (`pnpm --filter web dev`), PostgreSQL running with schema pushed.

    1. Visit http://localhost:3000 -- verify landing page loads with GSD branding, "Join the Movement" CTA, no wallet required
    2. Click "Explore" in nav -- verify /explore loads showing developer directory (empty initially, shows "Be the first" message)
    3. Click "Transparency" in nav -- verify /transparency loads with multisig details, program info, changelog, open source link
    4. Click wallet connect button -- verify Wallet Standard modal appears showing installed wallets
    5. Connect Phantom/Solflare -- verify SIWS sign-in prompt appears
    6. Approve sign-in -- verify redirect to /dashboard, session active
    7. Refresh the page -- verify session persists (still authenticated, not redirected to sign-in)
    8. Navigate to /profile/edit -- verify profile creation form appears
    9. Fill in display name, bio, and at least one external link -- submit
    10. Verify: success toast appears, on-chain transaction prompt appears in wallet (if on devnet with SOL)
    11. Navigate to /explore -- verify your profile now appears in the directory, member count shows "1 Developer"
    12. Click your profile card -- verify public profile page loads at /profile/[your-wallet] with all entered information
    13. Disconnect wallet -- verify you can still view /explore and /profile/[wallet] without authentication
    14. Try visiting /dashboard while disconnected -- verify redirect to landing page

    Check the overall feel: Does the platform feel like joining a movement? Is the dark theme appropriate? Does the directory feel alive?
  </how-to-verify>
  <resume-signal>Type "approved" if the full flow works correctly, or describe specific issues to fix</resume-signal>
</task>

</tasks>

<verification>
- /transparency accessible without wallet
- Multisig section shows 3-of-5 threshold with 5 labeled members
- Program section shows program ID linked to Solana Explorer
- Changelog format ready for future entries
- Open source repo link visible
- All Phase 1 success criteria verified via checkpoint
</verification>

<success_criteria>
- TRSY-01: Squads multisig (3-of-5) details visible on transparency page
- TRSY-02: Treasury/program transactions visible via changelog and explorer links
- TRSY-04: Program upgrade authority shown as Squads multisig
- INFR-01: Open source repo linked on transparency page
- Public changelog: Non-negotiable locked decision implemented with date, version, description, signers, tx link format
- Proof visible: All governance details publicly accessible
- Full Phase 1 UI verified by human
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-authentication/01-04-SUMMARY.md`
</output>
